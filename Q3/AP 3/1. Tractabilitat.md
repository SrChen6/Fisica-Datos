Teoria de la complexitat: mesura la quantitat de temps (segons) i espai (memòria) requerits per resoldre un problema.

- Problemes de decisió: problemes on la resposta és tancada (si (positiu)/no (negatiu))
- Mida de les entrades: les entrades poden ser $\mathbb N$, paraules, graphs, formules lògiques...
	Han de ser traduïdes a binari.

# Temps polinòmic vs exponencial
Sigui un algoritme $A$ i una entrada $E$, s'expresa el temps d'execució de $x\in E$ com $T(x)$
- Per les entrades de la mateixa mida: $$T(n)=\max\{T(n)|x\in E\land|x|=n\}$$
## Notació O(t(n))
Donades dos complexitats $f(n),g(n)$:$$f\in O(g)\iff\lim_{n\to\infty}\frac{f(n)}{g(n)}<\infty$$
Un problema és decidible en temps $t(n)$ si existeix un algoritme $\mathcal A:E\to\{0,1\}$ de cost $t(n)$ tal que $x\in A\implies\mathcal A(x)=1,\quad x\notin A\implies\mathcal A(x)=0$ 
- Tractable: Polinomis de classe $O(n^{k}$)
- Intractable: Exponencials de classe $O(2^{n^{k}})$ 

Teorema: $$P\subsetneq Exp$$
# Temps NP
Un problema de decisió $A$ amb entrada $E$ és decidible en temps polinòmic indeterminista si existeix:
- Un conjunt $E'$ amb possibles entrades
- Un algorisme polinòmic $\nu:E\times E'\to\{0, 1\}$ (anomenat verificador)
- Un polinomi $p(n)$
tal que $\forall x\in E$ es te $$x\in A\iff\nu(x,y)=1\text{ per algun }y\in E'\text{ tal que }|y|\leq p(|x|)$$ on $y$ és anomenat el testimoni.

### Teoremes
$$P\subseteq NP$$
$$NP\subseteq EXP$$
Però, com sabem, $P\neq EXP\implies$ 3 possibilitats
1. $P\subset NP\subset EXP$
2. $EXP=NP$
3. P=NP
# Reducció
Siguin dos problemes de decisió $A, B$ i un algoritme $\mathcal F$ que transforma entrades de $A$ en entrades de $B$.

es diu que $A$ es reduïble a $B$ en temps polinòmic si existeix $\mathcal F$ tal que $x\in A\iff \mathcal F(x)\in B$ (és a dir, que una entrada positiva per $A$ doni una entrada positiva per $B$ i viceversa)

En cas que ho sigui, es denota com $A\leq^{p}B$ 

## Propietats
### Transitivitat
$\forall A,B,C$, $$A\leq^{p}B,B\leq^{p}C\implies A\leq^{p}C$$
### Tancament de $P$ sota reducció polinòmica
$\forall A,B,C$, $$A\leq^{p}B,B\in P\implies A\in P$$
# Teoria de completitud de NP
- Un problema $A$ és $NP-hard\iff$  $\forall$ problema $B\in NP$ es té $B\leq^{p}A$ 
- Un problema $A$ és $NP-complet$ si és $NP-hard$ i $A\in NP$
	Per exemple, la resolució d'una formula booleana és de classe $NP-complet$
## Clase NPC
conjunt de problemes $NP-complet$

## Problema del milió
Sigui $A$ un problema $NP-complet$. $$P=NP\iff A\in P$$
## Reducció de 3-color a SAT
Sigui $G=(V,E)$, es produirà una formula $F_{G}$ en CNF tal que:
- Si $G$ és 3-colorable, $F_G$ es pot satisfer
- Si $F_{G}$ es pot satisfer, $G$ és 3-colorable

Definim una variable $x_{vk}$ que representa que el vèrtex $v$ està pintat de color $k$
### Condicions
- Cada vèrtex té com a mínim un color: $$x_{v0}\lor x_{v1}\lor x_{v2}=1$$ i com a màxim un color: $$x\in V,0\leq k<k'\leq 2\quad\lnot(x_{vk}\land x_{vk'})=\lnot x_{vk}\lor\lnot x_{vk'}=1$$
- Vèrtexs veïns estan pintats amb colors diferents: $$\{u,v\}\in E,0\leq k\leq 2\quad \lnot(x_{uk}\land x_{vk})=\lnot x_{uk}\lor\lnot x_{vk}=1$$
## Demostració: Clique és NP-complet
Clique: un graf té un subgraf de mida $k$ que és complet
### Clique $\in$ NP
- $E'$, candidats a testimonis: Conjunts de vèrtexs de mida $k$
- Testimonis: conjunt de vèrtexs que formen el subgraf complet de mida $k$
- Verificació en temps polinòmic: Tot parell de vèrtex del subgraf esta connectat
- Polinomi fitador de testimonis segons la mida de l'entrada: el polinomi identitat
### Clique $\in$ NP-hard
Provarem que CNF-SAT$\leq^{p}$ Clique, amb això:
- Com CNF-SAT és NP-hard, qualsevol $X\in NP$ satisfà $X\leq^{p}$ CNF-SAT
- Per transitivitat: qualsevol $X\in NP$ satisfà $X\leq^{p}$ Clique
- Llavors, Clique és NP-hard

#### Demostració: CNF-SAT $\leq^{p}$ Clique
Sigui $F$ una formula booleana $CNF$ amb literals $l_i$ i clausules $C_{i}$. L'algoritme de reducció retornarà un graf $(G,m)$, on
- $V=\{(l,j)|l\text{ apareix en }C_{j}\}$ : tots els literals amb la clàusula on es troben
- $E=\{\{(l,i)(l',j)\}|i\neq j\land\lnot l\neq l'\}$ : units si es poden cumplir els dos alhora
Si es pot formar una Clique de mida 3, llavors la formula es pot satisfer ( i biceversa)