# Esquemes
Agrupacions de components per temes administratius.

Aquests es troben dins de catàlegs (la nostra conta de la fib), que alhora es troba dins d'un servidor.

Dins dels esquemes es troben les taules, les vistes, procediments, disparadors...
# Connexions
Associació entre un usuari SQL i un servidor SQL per treballar sobre la base de dades
# Sessió
Les sentències dins d'una connexió formen una sessió
# Transaccions
Grups d'execucions atòmic (no es poden executar parcialment)
# Dominis
Valors vàlids per una columna definits per l'usuari 
# Taules
Component lògic principal d'una base de dades
## Restriccions de columna
Es posen al costat de la creació de columna
- Not Null: el valor no pot ser null (per defecte sí es pot)
- Unique: No poden haber-hi dos files amb el mateix valor
- Primary Key
- References: Clau forana
- Constrain
## Restriccions de taula
- Unique
- Primary key (compostes)
- Foreign key
- Constraint ... Check: pot resultar en problemes quan la taula està buida o quan s'actualitza/elimina la info d'altres taules
# Assercions
Condicions que s'han de complir a tota la base de dades (diverses taules)
# Vistes
Relació derivada: es pot crear una relació temporal que consisteix en un subconjunt d'una taula o diverses taules relacionades.

Aquestes no guarden les dades, ja que les dades es guarden a les taules. Tot i així, quan es modifica una vista la base de dades ho tradueix tal que es modifica la base de dades.
- Quan la traducció de vista a taula no és única, la modificació no és possible. Serà actualitzable quan:
	- No té group by
	- Una única taula referenciada
	- Sense agregats ni distincts
	- Els atributs del SELECT han d'incloure tots els atributs amb restriccions not null que no tinguin valor per defecte
- Quan es modifica una vista tal que deixa de cumplir la condició, la fila desapareix. Això es pot evitar amb un _with check option_.
# Arquitectura ANSI
## Esquemes externs
Visualització d'un conjunt de dades: Vistes
## Esquema conceptual
Ajuden a comprendre la base de dades: Taules
## Esquema intern
Com es guarden físicament les dades: fitxers, índexs
- Cada base de dades ho fa a la seva manera, no hi ha cap estàndard  a seguir
## Avantatges
### Independència lògica-física de dades: 
A un esquema intern li correspon un esquema conceptual, que pot tenir $n$ esquemes externs que ensenyin només allò que es vol saber. 

Els esquemes externs funcionen perfectament encara que a l'esquema intern es modifiqui alguna part que no apareix a l'esquema extern o al crear més vistes.

Els canvis d'índex de la base de dades (realocate) no afecten als esquemes conceptual i externs.

# Privilegis
Es donen a certs usuaris sobre certs esquemes per controlar l'ús dels esquemes (grant, revoke)
- Select, insert, update, delete, reference, usage, trigger, execute, under, all

## Grant
With grant option: qui obté privilegis pot també cedir privilegis
## Revoke
Cascade: els privilegis es revoquen en cascada
Restrict: Només s'executa si només la persona revocada perd els privilegis

## Vistes
Es pot crear una vista específica per un usuari i després cedir-li permisos per una gran precisió en les autoritzacions
## Rols
Agrupació de privilegis amb els mateixos privilegis
## DBA
Administrador: persona que assigna els rols
# Procediments emmagatzemats
- Simplifica el desenvolupament d'aplicacions
- Millora el rendiment
# Disparadors
Programes que s'auto-executen quan hi ha un trigger.