# Apunts de dies anteriors

---
### Longitud mitjana mínima
$$\overline l(X)=\inf\{\overline l(C_{x})|C_{x}\text{ codi font per a }X\}$$
- Codi òptim: Un codi òptim per la font $X$ és el codi en què la seva longitud $\overline l(C_{x})$ és la igual a la mínima de la font $\overline l(X)$. Pot existir més d'un codi òptim per una font donada.

## Teorema
Tota font té codis òptims.
### Corol·lari
Tota font té codis òptims que son codis prefix.

# Codis de Huffman
## Teorema
Sigui una font $X$ amb $M\geq 2$ símbols amb $p_{1}\geq p_{2}\geq\dots\geq p_{M}$.
Sigui $Y$ una font amb una símbol menys que $X$: $p_{1},\dots,p_{M-2},p_{M-1}+p_{M}$ 
Sigui $C_{Y}=\{c_{1},\dots,c_{n-1}\}$ un codi òptim prefix per $Y$.

Llavors existeix un codi prefix $C_{X}=\{c_{1},\dots,c_{M-2},c_{M-1}||0,c_M-1||1\}$ de $M$ paraules que és òptim per a $X$ 
## Construcció de codis Huffman binaris
Sigui  una font $X=a,b,c,\dots$ amb probabilitats $p_{1}\geq p_{2}\geq\dots\geq p_{M}$ 

Un codi Huffman $C_{X}$ per a $X$ és:
- Codi $C_{1}=0,C_{2}=1$ per $M=2$, $C_{X}=\{0,1\}$
- Codi $C_{X}=\set{c_{1},c_{2},\dots,c_{M-1},c_{M-1}||0,c_{M-1}||1}$ per $M$ símbols, $M\geq 3$ quan $C'_{X}=\set{c_{1},c_{2},\dots,c_{M-2},c_{M-1}}$ és un codi Huffman per $M-1$ símbols
## Algorisme Huffman
(versió $q$-ària)

### Inicialització
Un arbre amb $M$ nodes i cap arista. Els nodes els etiquetem amb probabilitats $p_{i}$ $$p_{1}\geq p_{2}\geq\dots\geq p_{M}$$ on $M$ ha de satisfer que $|X|=M= 1\mod {q-1}, q>2$. Això s'aconsegueix afegit símbols amb probabilitat 0
### Iteració
Mentre a l'arbre quedi més d'un node sense pare:
- Nou node: s'agafen $q$ dels nodes sense antecessor que tinguin probabilitats més petites i s'afegeix un nou node com a pare dels $q$ anteriors.

Aquest nou node satisfà
- Té probabilitat = suma dels successor
- Les arestes que van del predecessor al successor s'etiqueten amb les lletres de l'alfabet.

Si hem afegit símbols de més amb probabilitat 0, podem descartar les paraules corresponents als seus successors al final del procediment.

# Teorema de codificació de la font
Dona fites per la longitud mitjana dels codis òptims en funció de l'entropia de la font que codifiquen.

## Teorema de la codificació de font binària sense memòria
Per tota font $X$ sense memòria, es tenen les desigualtats: $$H(X)\leq\overline l(X)$$ $$\overline l(C_{X})\leq H(X)+1\implies H(X)\leq\overline l(X)\leq H(X)+1$$ per tot codi font òptim $C_{X}$

Per un alfabet $q$-ari: $$H_{q}(X)\leq\overline l(X)\leq H_{q}(X)+1$$
# Extensió de font
$C_{X}$ codifica els símbols d'una font un a un. Alternativament s'agrupen en grups de $n$ i es transforma el que es tenia en una variable aleatòria: es descompon la seqüència en blocs i es codifiquen en blocs.

Considerem $X^{n}=(X_{1},\dots,X_{n})$ amb $X_{i}\sim X$ independents i sense memòria. $X^{n}$ es considera una nova font amb les seves probabilitats associades (extensió $n$-èssima de $X$).

Aplicant el teorema de codificació de font: $$H(X^{n})\leq\overline l(X^{n})\leq H(X^{n})+1 \implies H(X)\leq\frac{\overline l(X^{n})}n\leq H(X)+\frac 1n$$
